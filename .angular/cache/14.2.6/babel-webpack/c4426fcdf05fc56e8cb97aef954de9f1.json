{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { stations } from '../../power-stations';\nimport { environment } from '../environments/environment';\nlet AppComponent = class AppComponent {\n  constructor(http) {\n    this.http = http;\n    this.powerStations = [];\n    this.loading = false;\n    this.initDateForm();\n    this.initConfig();\n  }\n\n  initDateForm() {\n    const todayDate = new Date();\n    let oneWeekAgoDate = new Date();\n    oneWeekAgoDate.setDate(todayDate.getDate() - 7);\n    this.dateRange = new FormGroup({\n      start: new FormControl(todayDate),\n      end: new FormControl(oneWeekAgoDate)\n    }, Validators.required);\n  }\n\n  initConfig() {\n    this.powerStations = stations;\n  }\n\n  export() {\n    this.loading = true;\n    /*const httpParams = new HttpParams()\r\n      .append('from', formatDate(this.from))\r\n      .append('to', formatDate(this.to));*/\n\n    this.http.get(environment.apiUrl + this.station.name + '?from=' + formatDate(this.from) + '&to=' + formatDate(this.to)).subscribe(res => {\n      this.loading = false;\n      console.log(res);\n    }, err => {\n      this.loading = false;\n      console.log(err);\n    });\n  }\n\n};\nAppComponent = __decorate([Component({\n  selector: 'my-app',\n  templateUrl: `./app.component.html`,\n  styleUrls: ['./app.component.scss']\n})], AppComponent);\nexport { AppComponent };\n\nfunction formatDate(date) {\n  return [twoCharsString(date.getDate()), twoCharsString(date.getMonth()), date.getFullYear().toString()].join('-');\n}\n\nfunction twoCharsString(number) {\n  return number > 10 ? number.toString() : '0' + number.toString();\n}","map":null,"metadata":{},"sourceType":"module"}