{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { stations } from '../../power-stations';\nimport * as i0 from \"@angular/core\";\n\nfunction AppComponent_mat_error_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Invalid start date\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AppComponent_mat_error_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Invalid end date\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AppComponent_power_station_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"power-station\", 9);\n  }\n\n  if (rf & 2) {\n    const station_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"station\", station_r4)(\"from\", ctx_r3.dateRange.controls.start.value)(\"to\", ctx_r3.dateRange.controls.end.value);\n  }\n}\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor() {\n      this.powerStations = [];\n      this.initDateForm();\n      this.initConfig();\n    }\n\n    initDateForm() {\n      const todayDate = new Date();\n      let oneWeekAgoDate = new Date();\n      oneWeekAgoDate.setDate(todayDate.getDate() - 7);\n      this.dateRange = new FormGroup({\n        start: new FormControl(todayDate),\n        end: new FormControl(oneWeekAgoDate)\n      }, Validators.required);\n    }\n\n    initConfig() {\n      this.powerStations = stations;\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)();\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"my-app\"]],\n    decls: 17,\n    vars: 6,\n    consts: [[1, \"container\"], [\"appearance\", \"fill\"], [3, \"formGroup\", \"rangePicker\"], [\"matStartDate\", \"\", \"formControlName\", \"start\", \"placeholder\", \"Start date\"], [\"matEndDate\", \"\", \"formControlName\", \"end\", \"placeholder\", \"End date\"], [\"matSuffix\", \"\", 3, \"for\"], [\"picker\", \"\"], [4, \"ngIf\"], [3, \"station\", \"from\", \"to\", 4, \"ngFor\", \"ngForOf\"], [3, \"station\", \"from\", \"to\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2, \"Surveillance des centrales\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"mat-form-field\", 1)(4, \"mat-label\");\n        i0.ɵɵtext(5, \"S\\u00E9lectionner une p\\u00E9riode\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"mat-date-range-input\", 2);\n        i0.ɵɵelement(7, \"input\", 3)(8, \"input\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"mat-hint\");\n        i0.ɵɵtext(10, \"JJ/MM/AAAA \\u2013 JJ/MM/AAAA\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"mat-datepicker-toggle\", 5)(12, \"mat-date-range-picker\", null, 6);\n        i0.ɵɵtemplate(14, AppComponent_mat_error_14_Template, 2, 0, \"mat-error\", 7);\n        i0.ɵɵtemplate(15, AppComponent_mat_error_15_Template, 2, 0, \"mat-error\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, AppComponent_power_station_16_Template, 1, 3, \"power-station\", 8);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(13);\n\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"formGroup\", ctx.dateRange)(\"rangePicker\", _r0);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"for\", _r0);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.dateRange.controls.start.hasError(\"matStartDateInvalid\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.dateRange.controls.end.hasError(\"matEndDateInvalid\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.powerStations);\n      }\n    },\n    styles: [\"[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]{flex:1 auto;margin:20px}\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}